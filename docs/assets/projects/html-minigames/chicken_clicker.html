
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Chicken clicker</title>
        <style>
            html, body, #parent{
                margin: 0;
                padding: 0;
                height: 100%;
                width: 100%;
                -webkit-touch-callout: none;
                -webkit-user-select: none;
                -khtml-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
				user-select: none;
				overflow: hidden;
			} 

			#parent{
				margin: 20px;
				width: calc(100% - 40px);
				height: calc(100vh - 40px)
			}
            #parent{
                display: flex;
            }
            #children{
                margin: auto; 
                font-size:10px;
                font-family: Impact, "Helvetica",sans-serif;
            }
            .menu{
                position: fixed;
                display: block;
                border: 0.3vw solid #ffffff; 
                border-radius: 1vw;
                background-color: #ffffff88;
                padding: 1vw;
                z-index: 2;
            }
            #marketDpc{
                right: 20px;
            } 
            #marketDps{
                bottom: 20px;
                right: 20px;
            }
            #animsDiv{    
				height: 100%;
			    width: 100%;
			    position: fixed;
			    top: 0;
			    left: 0;
            }
            
            .addSpan{
                animation-name: fadeIn;
                animation-duration: 1s;
                opacity: 0;
            }

            @keyframes fadeIn {
                0% {
                    opacity: 1;       
                    margin-top: 30px;
                }
                100% {
                    opacity: 0.0;
                    margin-top:0px; 
                }       
            }
        </style>
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>
    <body>
        <div id="parent">
            <div class="menu">
                <p>Score : <span id="score">0</span></p>
                <p>DPC : <span id="dpcValue">1</span></p>
                <p>DPS : <span id="dpsValue">0</span></p>
            </div>
            <div class="menu" id="marketDpc">
                <!--p onclick="purchase(1,     20)">bl√©, cost <span>20</span></p>
                <p onclick="purchase(7.5,  100)">couveuse, cost <span>100</span></p>
                <p onclick="purchase(100, 1000)">ferme, cost <span>1000</span></p-->
            </div> 
            <div class="menu" id="marketDps">
                <!--p onclick="autopurchase(1, 100)">esclave, cost <span>100</span></p>
                <p onclick="autopurchase(5, 400)">tracteur, cost <span>400</span></p>
                <p onclick="autopurchase(10,600)">champ, cost <span>600</span></p-->
            </div> 

            <svg  id="children" version="1.0" xmlns="http://www.w3.org/2000/svg" height="100%" viewBox="0 0 1205.000000 1280.000000" preserveAspectRatio="xMidYMid meet">
                <g id="hen" transform="translate(0.000000,1280.000000) scale(0.100000,-0.100000)" fill="#202020" stroke="none">
                    <path id="children_color" d="M1420 12774 c-27 -15 -64 -51 -92 -89 l-47 -64 -54 6 c-88 9 -159 -39 -197 -133 l-22 -53 -59 6 c-53 5 -63 3 -98 -21 -51 -36 -82 -84 -111 -171 -12 -38 -26 -74 -31 -79 -5 -5 -22 1 -41 16 -18 14 -43 30 -55 36 -21 12 -21 11 -16 -61 5 -69 3 -77 -41 -181 -56 -128 -70 -197 -62 -287 l7 -66 -53 -38 c-90 -65 -251 -212 -309 -283 -60 -72 -139 -214 -139 -249 0 -43 34 -36 170 32 273 137 320 154 479 176 202 27 420 24 390 -5 -11 -11 -488 -229 -584 -267 -154 -61 -175 -71 -175 -85 0 -33 42 -39 270 -39 l225 0 -3 -25 c-2 -14 -6 -82 -9 -152 -5 -138 5 -196 51 -279 38 -67 123 -144 186 -169 87 -34 218 -62 259 -55 28 5 41 2 53 -12 39 -42 150 -331 199 -513 67 -252 91 -393 130 -753 18 -169 36 -312 40 -318 5 -8 24 3 57 31 85 71 98 43 107 -230 6 -189 27 -395 41 -409 3 -3 11 2 18 12 18 24 35 21 41 -5 10 -47 34 -219 55 -393 73 -615 181 -1074 347 -1469 92 -221 91 -219 195 -386 278 -451 486 -719 779 -1005 165 -161 395 -336 526 -399 38 -19 73 -40 79 -47 7 -8 16 -108 23 -229 7 -118 16 -240 22 -271 10 -60 39 -320 39 -356 0 -27 16 -29 41 -7 29 26 39 8 39 -69 1 -121 34 -325 55 -333 6 -3 30 2 54 11 79 28 84 21 52 -80 -10 -33 -26 -119 -36 -190 -9 -72 -35 -206 -57 -300 -59 -245 -177 -654 -200 -693 -24 -40 -109 -84 -204 -108 -38 -10 -107 -34 -154 -54 -155 -68 -277 -109 -412 -140 -175 -40 -230 -58 -249 -82 -8 -11 -38 -32 -65 -46 -33 -19 -59 -43 -81 -77 -53 -83 -45 -79 -234 -109 -96 -15 -210 -34 -254 -42 -86 -15 -76 -9 -175 -121 -14 -15 -46 -42 -72 -60 -66 -45 -96 -95 -104 -171 -4 -36 -3 -62 2 -62 6 0 30 20 54 45 33 33 60 50 99 61 50 15 56 15 94 -2 26 -12 64 -19 102 -19 53 1 75 8 195 67 142 69 179 80 552 162 133 29 184 46 342 115 182 80 206 88 206 74 0 -16 -123 -149 -209 -227 -105 -96 -133 -128 -155 -180 -20 -48 -20 -89 -1 -152 8 -27 15 -79 15 -116 0 -104 58 -207 126 -224 32 -8 37 -3 24 30 -15 41 -13 148 5 172 8 12 36 27 62 34 26 7 63 22 81 32 35 21 74 88 87 148 13 59 103 190 199 288 102 105 301 249 380 276 88 29 171 22 288 -25 57 -22 128 -55 158 -73 117 -69 166 -77 233 -38 36 21 54 10 87 -51 28 -53 35 -57 44 -23 12 47 -10 113 -55 171 -100 127 -104 131 -214 175 -118 47 -351 185 -389 230 -47 56 -45 65 74 495 108 389 159 555 200 651 l20 47 42 -6 c37 -5 51 -1 103 30 90 55 176 117 214 157 38 39 51 44 51 21 0 -28 23 -15 79 42 38 39 95 79 169 121 62 35 144 90 183 123 39 32 78 59 87 59 10 -1 35 -24 57 -52 22 -28 92 -111 156 -185 72 -84 134 -167 164 -221 26 -48 49 -89 51 -91 2 -2 21 4 43 14 22 9 44 15 49 11 6 -3 13 -63 17 -133 4 -71 24 -267 46 -438 46 -367 50 -513 19 -813 -30 -290 -66 -425 -132 -488 -80 -77 -113 -89 -414 -155 -289 -63 -412 -79 -755 -98 -140 -8 -162 -12 -209 -36 -29 -15 -69 -45 -89 -67 -20 -22 -58 -51 -84 -65 -57 -28 -129 -92 -156 -137 -18 -31 -47 -204 -35 -215 3 -3 41 32 83 78 75 81 79 84 129 89 43 4 59 0 104 -25 29 -17 65 -33 80 -36 53 -14 220 35 288 83 49 35 355 56 394 27 17 -13 16 -20 -23 -133 -34 -97 -42 -135 -44 -203 -2 -93 8 -109 38 -59 10 18 39 54 63 80 36 38 53 49 95 58 36 7 63 7 87 0 52 -15 144 -12 189 6 21 8 54 32 73 53 57 64 105 87 283 136 94 26 185 56 202 67 76 46 155 175 214 349 23 68 45 128 49 132 12 14 132 -14 179 -41 25 -14 64 -42 86 -64 23 -21 46 -38 50 -38 12 0 -5 110 -27 170 -22 59 -67 108 -191 207 -38 30 -73 67 -78 81 -15 39 -39 417 -39 618 0 166 44 846 56 866 3 5 22 7 43 3 36 -6 39 -4 82 49 42 53 79 71 94 46 11 -18 35 -10 98 32 173 116 272 234 399 475 32 61 64 115 71 121 7 5 102 43 212 85 110 42 387 153 615 246 l414 169 175 133 c202 154 275 235 311 343 25 77 27 79 241 317 l167 184 147 84 c135 78 148 88 170 132 18 35 39 56 88 87 85 54 181 182 226 302 18 47 39 95 46 106 8 12 86 57 178 102 188 91 284 152 292 185 2 12 6 42 7 66 l3 44 59 21 59 21 22 65 c36 107 52 129 186 266 125 127 129 132 129 174 0 36 17 76 99 229 114 213 130 262 123 377 l-4 80 35 27 c58 44 63 52 77 117 12 56 12 63 -3 72 -10 5 -17 13 -17 18 0 4 35 28 78 53 89 52 121 83 143 140 15 37 15 44 2 64 -14 22 -12 26 46 86 58 61 62 68 77 144 15 72 15 86 2 124 -14 44 -15 44 -68 49 -29 3 -55 10 -57 17 -2 6 38 34 90 62 95 52 160 109 192 171 9 17 23 70 31 117 15 84 15 85 -9 133 -14 27 -40 71 -60 97 -19 26 -38 62 -42 80 -5 28 -12 33 -43 38 -20 3 -44 10 -52 16 -8 5 -27 17 -42 27 -16 9 -26 21 -25 27 2 5 35 28 73 50 95 56 164 141 164 202 0 24 9 62 20 83 l20 40 -19 115 c-23 133 -42 166 -120 208 -73 40 -138 37 -275 -14 -159 -58 -163 -54 -79 61 41 56 87 134 112 190 40 93 41 98 41 205 -1 93 -4 117 -23 155 -18 36 -29 47 -59 55 -23 6 -50 24 -67 46 -16 19 -48 44 -70 54 -40 17 -42 17 -61 0 -19 -17 -21 -17 -40 0 -16 15 -30 16 -95 10 -98 -9 -181 -46 -344 -154 -67 -44 -129 -81 -137 -81 -8 0 -38 16 -67 35 -32 21 -89 45 -140 59 -86 24 -87 24 -111 5 -30 -23 -40 -24 -77 -2 -27 16 -32 16 -86 -2 -53 -18 -76 -37 -273 -230 -170 -166 -313 -291 -680 -593 -398 -328 -489 -399 -635 -490 -284 -177 -457 -226 -745 -210 -69 4 -240 14 -381 23 -197 13 -328 16 -565 11 -753 -15 -1212 -18 -1299 -8 -164 19 -333 73 -577 186 -402 184 -695 390 -830 584 -63 89 -79 122 -61 122 5 0 50 -14 101 -31 51 -17 96 -28 100 -25 3 4 -33 46 -80 94 -67 68 -95 106 -128 171 -23 46 -53 101 -67 122 -30 46 -24 62 18 47 16 -6 33 -7 37 -4 3 4 -57 71 -135 149 -491 496 -1195 1318 -1159 1354 3 4 18 1 32 -6 15 -6 29 -10 31 -7 3 3 -37 52 -89 110 -92 102 -297 275 -395 333 -47 27 -52 37 -27 51 13 8 2 21 -64 70 -146 112 -248 161 -392 188 -41 8 -78 18 -82 22 -4 4 -3 38 2 75 19 128 -31 260 -118 310 -50 29 -135 32 -211 8 -36 -11 -68 -18 -72 -15 -4 2 -10 17 -14 33 -6 29 -21 45 -62 69 -30 16 -31 16 -83 -14z"/>
                </g>
                <circle cx="130" cy="90" r="25" fill="white"/>
                <circle cx="125" cy="90" r="15" fill="black"/>
            </svg> 
                
            <div onmousemove="moveEye(event)" onclick="henClick()" id="animsDiv">
                <!--svg height="100%" width="100%">
                    <circle id="pupil" r="10" fill="black"/>
                </svg-->
            </div>

        </div>
        <script src="daynightbackground.js"></script><script>
            window.onload = codeAddress;
            function codeAddress(){
                var DNC = false;
                var SMC = ["ffff00","ff8800","bb66bb","668888"];
                var MC = ["88888888","66666688","BBBBBB88","88888888","ffffff88","AAAAAA88"];
                initializeColors(DNC, SMC, MC);
            }

            var score = 0;
            var dpcValue = 1;
            var dpsValue = 0;
            var color1, color2, color3, color4;

            var dpc = [{name:"houe", price:20, dpc:1, max:15},
                    {name:"arroisoir", price:50, dpc:3, max:20},
                    {name:"pelle", price:100, dpc:8, max:10},
                    {name:"champ", price:250, dpc:25, max:12},
                    {name:"tracteur", price:1000, dpc:150, max:6},
                    {name:"grange", price:3000, dpc:600, max:3},
                    {name:"h√©olienne", price:100000, dpc:10000, max:20}];

            var dps = [{name:"poussin", price:200, dps:1, max:10},
                    {name:"poulet", price:800, dps:5, max:20},
                    {name:"coq", price:2000, dps:15, max:4},
                    {name:"chien", price:5000, dps:50, max:5},
                    {name:"mouton", price:20000, dps:250, max:20},
                    {name:"vache", price:100000, dps:1250, max:20},
                    {name:"vaud", price:750000, dps:10000, max:10}];

            Main();
            function Main(){
                var article1=dpcObject(0, dpc[0]["name"], dpc[0]["price"], dpc[0]["dpc"], dpc[0]["max"]);
                var article2=dpcObject(1, dpc[1]["name"], dpc[1]["price"], dpc[1]["dpc"], dpc[1]["max"]);
                var article3=dpcObject(2, dpc[2]["name"], dpc[2]["price"], dpc[2]["dpc"], dpc[2]["max"]);
                var article4=dpsObject(0, dps[0]["name"], dps[0]["price"], dps[0]["dps"], dps[0]["max"]);
                var article5=dpsObject(1, dps[1]["name"], dps[1]["price"], dps[1]["dps"], dps[1]["max"]);
                var article6=dpsObject(2, dps[2]["name"], dps[2]["price"], dps[2]["dps"], dps[2]["max"]);

                document.getElementById("marketDpc").innerHTML = article1 + article2 + article3;
                document.getElementById("marketDps").innerHTML = article4 + article5 + article6;

            }
            
            setInterval(Timer, 1000);
/*
            function moveEye(event){
                var max = 20000000;
                var a = {x:0, y:0}//, y:document.getElementById("eye").getAttribute('y')};
                var b = {x:event.clientX,y:event.clientY};
                var ab =  Math.sqrt(Math.pow( a.x-b.x, 2) + Math.pow(a.y-b.y, 2));
                console.log(a.x+":"+a.y+", "+b.x+":"+b.y+", "+ ab);
                console.log(document.getElementById("eye"));
                if (ab < max){
                    pupil.setAttribute("cx", b.x);
                    pupil.setAttribute("cy", b.y);
                }
            }*/
            function Timer()
            {
                if(dpsValue!=0){
                    score += dpsValue;
                    var addSpan = document.createElement('span');
                    addSpan.innerHTML = "+"+dpsValue;
                    var hen = document.getElementById("children");
                    addSpan.className="addSpan";
                    d=window.innerWidth<window.innerHeight?window.innerWidth:window.innerHeight;
                    addSpan.style.left=(window.innerWidth/2+rng(-d/3, d/3))+"px";
                    addSpan.style.top = (window.innerHeight/2+rng(-d/3, d/3))+"px";
                    addSpan.style.color = color3;
                    addSpan.style.position = "absolute";
                    addSpan.style.fontSize = "1.5vw"

                    document.getElementById("animsDiv").appendChild(addSpan);
                    document.getElementById("score").innerHTML = score;
                    document.getElementById("dpcValue").innerHTML = dpcValue;
                    changecolor();
                }
            }
            function changecolor(){
                color1 =  getRandomColor();
                color2 =  getRandomColor();
                color3 =  getRandomColor();
                color4 =  getRandomColor();
                document.body.style.backgroundColor =color1;
                document.getElementById("children_color").style.fill = color2;
            }
            function getRandomColor() {
                var letters = '0123456789ABCDEF';
                var color = '#';
                for (var i = 0; i < 6; i++) {
                    color += letters[Math.floor(Math.random() * 16)];
                }
                return color;
            }
            function henClick(){
                var addSpan = document.createElement('span');
                addSpan.innerHTML = "+"+dpcValue;
                var hen = document.getElementById("children");
                addSpan.className="addSpan";
                d=window.innerWidth<window.innerHeight?window.innerWidth:window.innerHeight;
                addSpan.style.left=(window.innerWidth/2+rng(-d/3, d/3))+"px";
                addSpan.style.top = (window.innerHeight/2+rng(-d/3, d/3))+"px";
                addSpan.style.color = color4;
                addSpan.style.position = "absolute";
                addSpan.style.fontSize = "2vw"
                document.getElementById("animsDiv").appendChild(addSpan);
                

                score+=dpcValue;
                
                document.getElementById("score").innerHTML = score;
                document.getElementById("dpcValue").innerHTML = dpcValue;
                changecolor();
            }
            function rng(min, max){
                return Math.random() * (max - min) + min;
            }
            function purchase(id, price, addValue){
                if (dpc[id]["max"]>1){
                    dpc[id]["max"]--;
                // dpcObject(id, name, price, dpc, max);
                if (score >= price){
                    score -= price;
                    dpcValue += addValue;
                    document.getElementById("score").innerHTML = score;
                    document.getElementById("dpcValue").innerHTML = dpcValue;
                
                }
                }else{

                }

            }function autopurchase(id,price, addValue){
                if (score >= price){
                    score -= price;
                    dpsValue += addValue;
                    document.getElementById("score").innerHTML = score;
                    document.getElementById("dpsValue").innerHTML = dpsValue;
                }

            }
            document.addEventListener('keyup', function(event) {
                switch (event.code){
                    case 'Space':
                        henClick();
                        break;
                    case "Digit1":
                    case "Numpad1":
                        break;
                    case "Digit2":
                    case "Numpad2":
                        break;
                    case "Digit3":
                    case "Numpad3":
                        break;
                    case "Digit4":
                    case "Numpad4":
                        break;
                    case "Digit5":
                    case "Numpad5":
                        break;
                    case "Digit6":
                    case "Numpad6":
                        break;
                }
                
            });
            function dpcObject(id, name, price, dpc, max){
                return "<p id=\""+id+"\" onclick=\"purchase("+id+","+price+","+dpc+")\"><span>"+name+": "+price+", +"+dpc+"/click ("+max+")</span></p>";
            }
            function dpsObject(id, name, price, dps, max){
                return "<p id=\""+id+"\" onclick=\"autopurchase("+id+","+price+","+dps+")\"><span>"+name+": "+price+", +"+dps+"/secondes ("+max+")</span></p>";

            }
          
        </script>
    </body>
</html>